# 高并发下修改数据

## CAS式修改

在频繁修改的表里面添加一个时间戳或者随机数的字段，例如，timestamp。

原理：是当每一次修改数据的时候都要把之前的时间戳修改成当前的时间戳，并且之前的时间戳要作为where条件，如果之前的时间戳和参数里面的时间戳不一致，则修改失败，在重新查询进行反复操作。

流程：
   + 首先查询出来当前信息；
   + 根据之前的随机码并作为修改时候的条件；
   + 修改新生成的随机码，如果修改失败，则循环调用一次本方法。直到成功。

## select...for update

## Java锁

## 阻塞队列